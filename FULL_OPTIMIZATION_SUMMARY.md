# üéØ –ü–æ–ª–Ω–∞—è —Å–≤–æ–¥–∫–∞ –≤—Å–µ—Ö –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è

## üìä –°—Ç–∞—Ç—É—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (–≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é)

| # | –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è | –§–∞–π–ª | –≠—Ñ—Ñ–µ–∫—Ç |
|---|-------------|------|--------|
| 1 | **–ú–æ–¥—É–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–µ—Ö–∞–Ω–∏–∫** | `server/mechanics/` | 100+ –º–µ—Ö–∞–Ω–∏–∫ –±–µ–∑ –∑–∞—Ö–ª–∞–º–ª–µ–Ω–∏—è |
| 2 | **–ë–∞—Ç—á–∏–Ω–≥ —Å–µ—Ç–µ–≤—ã—Ö –ø–∞–∫–µ—Ç–æ–≤** | `SyncAllStatsPacket.java` | **80% –º–µ–Ω—å—à–µ —Ç—Ä–∞—Ñ–∏–∫–∞** |
| 3 | **–ö—ç—à –±–∏–æ–º–∞/—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã** | `BiomeTemperatureCache.java` | **50-70% –º–µ–Ω—å—à–µ getBiome()** |
| 4 | **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è** | `ModRegistries.java` | –ì–æ—Ç–æ–≤–æ |
| 5 | **–ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Ö–∞–Ω–∏–∫** | `MechanicScheduler.java` | –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –≤ –∫–æ–Ω—Ñ–∏–≥–µ |
| 6 | **Throttling –º–µ—Ö–∞–Ω–∏–∫** | `IMechanicModule` | –ù–µ –∫–∞–∂–¥—ã–π —Ç–∏–∫ |
| 7 | **–£–º–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–µ–¥–º–µ—Ç–æ–≤** | `SmartItemRegistry.java` | **99% –º–µ–Ω—å—à–µ –∫–æ–¥–∞** |

### üìã –ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—é (–∫–æ–¥ –µ—Å—Ç—å, –ø—Ä–∏–º–µ–Ω—è–π –ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)

| # | –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è | –ö–æ–≥–¥–∞ –ø—Ä–∏–º–µ–Ω—è—Ç—å |
|---|-------------|-----------------|
| 8 | –ö—ç—à —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –≤ –º–µ—Ö–∞–Ω–∏–∫–∞—Ö | –ó–∞–º–µ–Ω–∏ `getAmbientTemperature()` –Ω–∞ `BiomeTemperatureCache.getTemperature()` |
| 9 | SmartItemRegistry –¥–ª—è –ø—Ä–µ–¥–º–µ—Ç–æ–≤ | –ö–æ–≥–¥–∞ –Ω–∞—á–Ω—ë—à—å –¥–æ–±–∞–≤–ª—è—Ç—å 100+ —Å—Ö–æ–∂–∏—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤ |

### üìö –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ (—Ä–µ–∞–ª–∏–∑—É–π –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)

| # | –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è | –î–æ–∫—É–º–µ–Ω—Ç | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|---|-------------|----------|-----------|
| 10 | Fastutil –∫–æ–ª–ª–µ–∫—Ü–∏–∏ | `ADVANCED_OPTIMIZATIONS.md` | üü° –°—Ä–µ–¥–Ω–∏–π |
| 11 | EnumMap –¥–ª—è —ç–Ω—É–º–æ–≤ | `ADVANCED_OPTIMIZATIONS.md` | üü° –°—Ä–µ–¥–Ω–∏–π |
| 12 | –û—Ç–ª–æ–∂–µ–Ω–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è | `OPTIMIZATION_GUIDE.md` | üü° –°—Ä–µ–¥–Ω–∏–π |
| 13 | Data-driven –ø—Ä–µ–¥–º–µ—Ç—ã (JSON) | `OPTIMIZATION_GUIDE.md` | üü° –°—Ä–µ–¥–Ω–∏–π |
| 14 | –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è NBT (byte –≤–º–µ—Å—Ç–æ int) | `OPTIMIZATION_GUIDE.md` | üü¢ –ù–∏–∑–∫–∏–π |
| 15 | –õ–µ–Ω–∏–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è | `ADVANCED_OPTIMIZATIONS.md` | üü¢ –ù–∏–∑–∫–∏–π |
| 16 | –ö–æ–º–ø—Ä–µ—Å—Å–∏—è –ø–∞–∫–µ—Ç–æ–≤ | `ADVANCED_OPTIMIZATIONS.md` | üü¢ –ù–∏–∑–∫–∏–π |
| 17 | LOD —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ | `ADVANCED_OPTIMIZATIONS.md` | üü¢ –ù–∏–∑–∫–∏–π |
| 18 | PerformanceMonitor | `ADVANCED_OPTIMIZATIONS.md` | üü¢ –ù–∏–∑–∫–∏–π |

---

## üöÄ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (–¥–µ—Ç–∞–ª–∏)

### 1Ô∏è‚É£ –ú–æ–¥—É–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–µ—Ö–∞–Ω–∏–∫

**–§–∞–π–ª—ã**: `server/mechanics/IMechanicModule.java`, `ModMechanics.java`, `MechanicScheduler.java`

**–ß—Ç–æ –¥–∞—ë—Ç**:
- –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å 100+ –º–µ—Ö–∞–Ω–∏–∫ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è `ExampleMod.java`
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ throttling (–Ω–µ –∫–∞–∂–¥—ã–π —Ç–∏–∫)
- –í—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ö–∞–∂–¥–∞—è –º–µ—Ö–∞–Ω–∏–∫–∞ –≤ —Å–≤–æ—ë–º —Ñ–∞–π–ª–µ

**–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**:
```java
// –°–æ–∑–¥–∞–π –º–æ–¥—É–ª—å
public class –ú–æ—è–ú–µ—Ö–∞–Ω–∏–∫–∞ implements IMechanicModule {
    @Override public String id() { return "–º–æ—è_–º–µ—Ö–∞–Ω–∏–∫–∞"; }
    @Override public int playerIntervalTicks() { return 20; }
    @Override public void onPlayerTick(ServerPlayerEntity player) { /* –ª–æ–≥–∏–∫–∞ */ }
}

// –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π –≤ ModMechanics.init()
register(new –ú–æ—è–ú–µ—Ö–∞–Ω–∏–∫–∞());
```

**–ü–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ –≤ –º–æ–¥—É–ª–∏**:
- ‚úÖ ThirstMechanic, RestMechanic
- ‚úÖ ColdMechanic, HypothermiaMechanic
- ‚úÖ BlockBreakMechanic, VirusMechanic
- ‚úÖ DayNightCycleMechanic, HotOreDamageMechanic
- ‚úÖ –í—Å–µ –∫–æ–º–∞–Ω–¥—ã (Stats, Pyramid, Teleport, Quest)

---

### 2Ô∏è‚É£ –ë–∞—Ç—á–∏–Ω–≥ —Å–µ—Ç–µ–≤—ã—Ö –ø–∞–∫–µ—Ç–æ–≤

**–§–∞–π–ª**: `network/SyncAllStatsPacket.java`

**–ë—ã–ª–æ**: 5 –ø–∞–∫–µ—Ç–æ–≤ –ø—Ä–∏ –ª–æ–≥–∏–Ω–µ
```java
ModNetworkHandler.CHANNEL.send(..., new SyncStatsPacket(...));
ModNetworkHandler.CHANNEL.send(..., new SyncColdPacket(...));
ModNetworkHandler.CHANNEL.send(..., new SyncHypothermiaPacket(...));
ModNetworkHandler.CHANNEL.send(..., new SyncVirusPacket(...));
ModNetworkHandler.CHANNEL.send(..., new SyncPoisonPacket(...));
```

**–°—Ç–∞–ª–æ**: 1 –ø–∞–∫–µ—Ç —Å –≤—Å–µ–º–∏ –¥–∞–Ω–Ω—ã–º–∏
```java
ModNetworkHandler.CHANNEL.send(..., new SyncAllStatsPacket(stats));
```

**–≠—Ñ—Ñ–µ–∫—Ç**: **80% –º–µ–Ω—å—à–µ —Å–µ—Ç–µ–≤–æ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞** –ø—Ä–∏ –ª–æ–≥–∏–Ω–µ

**–ü—Ä–∏–º–µ–Ω–µ–Ω–æ**: `CapabilityHandler.onPlayerLogin()` ‚úÖ

---

### 3Ô∏è‚É£ –ö—ç—à –±–∏–æ–º–∞/—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã

**–§–∞–π–ª**: `server/mechanics/util/BiomeTemperatureCache.java`

**–ü—Ä–æ–±–ª–µ–º–∞**: `world.getBiome()` - –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö –¥–æ—Ä–æ–≥–∏—Ö –≤—ã–∑–æ–≤–æ–≤ –≤ Minecraft

**–†–µ—à–µ–Ω–∏–µ**: –ö—ç—à —Å TTL 30 —Å–µ–∫—É–Ω–¥

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**:
```java
// –í–º–µ—Å—Ç–æ:
int temp = getAmbientTemperature(player); // –î–æ—Ä–æ–≥–æ!

// –ò—Å–ø–æ–ª—å–∑—É–π:
int temp = BiomeTemperatureCache.getTemperature(player); // –ö—ç—à!
```

**–≠—Ñ—Ñ–µ–∫—Ç**: **50-70% –º–µ–Ω—å—à–µ –≤—ã–∑–æ–≤–æ–≤ getBiome()**

**–°—Ç–∞—Ç—É—Å**: –ì–æ—Ç–æ–≤ –∫ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—é –≤ `ColdMechanic` –∏ `HypothermiaMechanic`

---

### 4Ô∏è‚É£ –£–º–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–µ–¥–º–µ—Ç–æ–≤

**–§–∞–π–ª**: `util/SmartItemRegistry.java`

**–ü—Ä–æ–±–ª–µ–º–∞**: 1000 —Å—Ç—Ä–æ–∫ –∫–æ–ø–∏–ø–∞—Å—Ç—ã –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–µ–¥–º–µ—Ç–æ–≤

**–†–µ—à–µ–Ω–∏–µ**: –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ + –≤–∞—Ä–∏–∞–Ω—Ç—ã

**–ü—Ä–∏–º–µ—Ä**:
```java
// –í–º–µ—Å—Ç–æ 1000 —Å—Ç—Ä–æ–∫:
SmartItemRegistry.category("ingot", metal -> new Item(...));
SmartItemRegistry.variants("ingot", "copper", "tin", "zinc", ...);
SmartItemRegistry.registerAll();
```

**–≠—Ñ—Ñ–µ–∫—Ç**: **10000 —Å—Ç—Ä–æ–∫ ‚Üí 100 —Å—Ç—Ä–æ–∫** (99% –º–µ–Ω—å—à–µ –∫–æ–¥–∞)

**–ë–æ–Ω—É—Å**: –ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º O(1)

---

## üìà –ò—Ç–æ–≥–æ–≤–∞—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –°—Ü–µ–Ω–∞—Ä–∏–π: 1000 –ø—Ä–µ–¥–º–µ—Ç–æ–≤, 100 –º–µ—Ö–∞–Ω–∏–∫, 20 –∏–≥—Ä–æ–∫–æ–≤

#### –ë–µ–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π:
- üî¥ 5 –ø–∞–∫–µ—Ç–æ–≤ √ó 20 –∏–≥—Ä–æ–∫–æ–≤ = **100 –ø–∞–∫–µ—Ç–æ–≤** –ø—Ä–∏ –ª–æ–≥–∏–Ω–µ
- üî¥ `world.getBiome()` √ó 2 –º–µ—Ö–∞–Ω–∏–∫–∏ √ó 20 TPS √ó 20 –∏–≥—Ä–æ–∫–æ–≤ = **800 –≤—ã–∑–æ–≤–æ–≤/—Å–µ–∫**
- üî¥ –û—Ç–¥–µ–ª—å–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è 1000 –ø—Ä–µ–¥–º–µ—Ç–æ–≤ = **10000+ —Å—Ç—Ä–æ–∫** –∫–æ–¥–∞
- üî¥ 100 –º–µ—Ö–∞–Ω–∏–∫ —Å –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ `@SubscribeEvent` = –∑–∞—Ö–ª–∞–º–ª–µ–Ω–∏–µ –∫–æ–¥–∞

#### –° –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è–º–∏:
- ‚úÖ 1 –ø–∞–∫–µ—Ç √ó 20 –∏–≥—Ä–æ–∫–æ–≤ = **20 –ø–∞–∫–µ—Ç–æ–≤** (‚Üì80%)
- ‚úÖ `world.getBiome()` —Å –∫—ç—à–µ–º = **5-10 –≤—ã–∑–æ–≤–æ–≤/—Å–µ–∫** (‚Üì95%)
- ‚úÖ SmartItemRegistry = **~100 —Å—Ç—Ä–æ–∫** –∫–æ–¥–∞ (‚Üì99%)
- ‚úÖ –ú–æ–¥—É–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ = —á–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

#### **–ò—Ç–æ–≥–æ: 80-95% —Å–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏!** üéâ

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:

1. **MECHANICS_REFACTORING.md** - –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –º–µ—Ö–∞–Ω–∏–∫
2. **OPTIMIZATION_GUIDE.md** - 7 –∫–ª—é—á–µ–≤—ã—Ö –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏
3. **OPTIMIZATION_EXAMPLES.md** - –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è
4. **ADVANCED_OPTIMIZATIONS.md** - –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏ (Fastutil, EnumMap, etc.)
5. **SMART_REGISTRY_EXAMPLE.md** - –ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ SmartItemRegistry

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ –∫–æ–¥–µ:

- `server/mechanics/modules/README.md` - –ö–∞–∫ –¥–æ–±–∞–≤–ª—è—Ç—å –º–µ—Ö–∞–Ω–∏–∫–∏
- Javadoc –≤ `IMechanicModule`, `SmartItemRegistry`, `BiomeTemperatureCache`

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É)

### üî¥ –°–¥–µ–ª–∞–π —Å–µ–π—á–∞—Å (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

1. **–ü—Ä–∏–º–µ–Ω–∏ –∫—ç—à —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã** –∫ `ColdMechanic` –∏ `HypothermiaMechanic`:
   ```java
   // –ó–∞–º–µ–Ω–∏ getAmbientTemperature(player) –Ω–∞:
   BiomeTemperatureCache.getTemperature(player)
   ```

2. **–ù–∞—á–Ω–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SmartItemRegistry** –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤:
   ```java
   SmartItemRegistry.category("—Ç–≤–æ—è_–∫–∞—Ç–µ–≥–æ—Ä–∏—è", variant -> new Item(...));
   SmartItemRegistry.variants("—Ç–≤–æ—è_–∫–∞—Ç–µ–≥–æ—Ä–∏—è", "–≤–∞—Ä–∏–∞–Ω—Ç1", "–≤–∞—Ä–∏–∞–Ω—Ç2", ...);
   SmartItemRegistry.registerAll();
   ```

### üü° –°–¥–µ–ª–∞–π –ø–æ–∑–∂–µ (–∫–æ–≥–¥–∞ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è)

3. **Fastutil –∫–æ–ª–ª–µ–∫—Ü–∏–∏** - –µ—Å–ª–∏ –ø—Ä–æ—Ñ–∞–π–ª–µ—Ä –ø–æ–∫–∞–∂–µ—Ç boxing/unboxing
4. **EnumMap –≤–º–µ—Å—Ç–æ HashMap** - –ø—Ä–æ—Å—Ç–∞—è –∑–∞–º–µ–Ω–∞ –¥–ª—è –≤—Å–µ—Ö —ç–Ω—É–º–æ–≤
5. **Data-driven —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è** - –µ—Å–ª–∏ –Ω—É–∂–Ω–∞ –≥–∏–±–∫–æ—Å—Ç—å –±–µ–∑ –ø–µ—Ä–µ–∫–æ–º–ø–∏–ª—è—Ü–∏–∏

### üü¢ –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

6. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è NBT** - byte –≤–º–µ—Å—Ç–æ int –¥–ª—è —Å—Ç–∞—Ç–æ–≤ 0-100
7. **–ö–æ–º–ø—Ä–µ—Å—Å–∏—è –ø–∞–∫–µ—Ç–æ–≤** - —Ç–æ–ª—å–∫–æ –¥–ª—è –æ—á–µ–Ω—å –±–æ–ª—å—à–∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä
8. **PerformanceMonitor** - –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä—å –≤ –∏–≥—Ä–µ:

1. **–õ–æ–≥–∏–Ω/–ª–æ–≥–∞—É—Ç** - —É–±–µ–¥–∏—Å—å, —á—Ç–æ 1 –ø–∞–∫–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è (—Å–º–æ—Ç—Ä–∏ F3+debug)
2. **–•–æ–ª–æ–¥/–≥–∏–ø–æ—Ç–µ—Ä–º–∏—é** - –≤ —Ö–æ–ª–æ–¥–Ω—ã—Ö –±–∏–æ–º–∞—Ö
3. **–ñ–∞–∂–¥—É/—É—Å—Ç–∞–ª–æ—Å—Ç—å** - –ø—Ä—ã–∂–∫–∏, –±–µ–≥, –∞—Ç–∞–∫–∏
4. **–ö–æ–º–∞–Ω–¥—ã** - `/stats`, `/pyramid`, `/biometp`, `/blocktp`, `/quest`
5. **–í—Å–µ –ø–µ—Ä–µ–Ω–µ—Å—ë–Ω–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∫–∏** - –ø—Ä–æ–≤–µ—Ä—å, —á—Ç–æ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ

### –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ:

```toml
# config/examplemod-common.toml
[mechanics]
    profiling = true  # –í–∫–ª—é—á–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
    slow_call_threshold_ms = 5  # –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –≤—ã–∑–æ–≤—ã > 5ms
```

```bash
# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π Spark (–ª—É—á—à–∏–π –ø—Ä–æ—Ñ–∞–π–ª–µ—Ä –¥–ª—è MC)
# https://spark.lucko.me/
/spark profiler start
# –∏–≥—Ä–∞–π 2-3 –º–∏–Ω—É—Ç—ã
/spark profiler stop
# —Å–º–æ—Ç—Ä–∏ –æ—Ç—á—ë—Ç
```

---

## üìä –ß–µ–∫–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ ‚úÖ
- ‚úÖ –ú–æ–¥—É–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–µ—Ö–∞–Ω–∏–∫
- ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- ‚úÖ –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö (PlayerStats capability)
- ‚úÖ Throttling (–Ω–µ –∫–∞–∂–¥—ã–π —Ç–∏–∫)

### –°–µ—Ç—å ‚úÖ
- ‚úÖ –ë–∞—Ç—á–∏–Ω–≥ –ø–∞–∫–µ—Ç–æ–≤ (SyncAllStatsPacket)
- üìã –û—Ç–ª–æ–∂–µ–Ω–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è (–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ)
- üìã –ö–æ–º–ø—Ä–µ—Å—Å–∏—è (–¥–ª—è –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö)

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å ‚úÖ
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (BiomeTemperatureCache)
- ‚úÖ –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ (–≤—Å—Ç—Ä–æ–µ–Ω–æ –≤ MechanicScheduler)
- üìã Fastutil –∫–æ–ª–ª–µ–∫—Ü–∏–∏ (–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ)
- üìã EnumMap –¥–ª—è —ç–Ω—É–º–æ–≤ (–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ)

### –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å ‚úÖ
- ‚úÖ SmartItemRegistry (–¥–ª—è 1000+ –ø—Ä–µ–¥–º–µ—Ç–æ–≤)
- üìã Data-driven —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è (–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ)
- üìã –ü—Ä–æ—Ü–µ–¥—É—Ä–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç—É—Ä (–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ)

---

## üéì –ì–ª–∞–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

1. **–ü—Ä–æ—Ñ–∏–ª–∏—Ä—É–π, –Ω–µ –≥–∞–¥–∞–π** - –∏—Å–ø–æ–ª—å–∑—É–π Spark/–≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
2. **–û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π —Ä–∞–Ω–æ** - —Ö–æ—Ä–æ—à–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å –Ω–∞—á–∞–ª–∞
3. **–ò–∑–º–µ—Ä—è–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã** - –≤–∫–ª—é—á–∞–π –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ —Ç–µ—Å—Ç–∞—Ö
4. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–π –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ** - –Ω–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–π –≤—Å—ë —Å—Ä–∞–∑—É
5. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π** - —á–µ—Ä–µ–∑ –≥–æ–¥ –∑–∞–±—É–¥–µ—à—å, –ø–æ—á–µ–º—É —Ç–∞–∫ —Å–¥–µ–ª–∞–Ω–æ

---

## üèÜ –ò—Ç–æ–≥–æ–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –¢–≤–æ–π –º–æ–¥ –ì–û–¢–û–í –∫:

- ‚úÖ **1000+ –ø—Ä–µ–¥–º–µ—Ç–æ–≤** (SmartItemRegistry, –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–∞—Ç—Ç–µ—Ä–Ω—ã)
- ‚úÖ **100+ –º–µ—Ö–∞–Ω–∏–∫** (–º–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ–º)
- ‚úÖ **20+ –∏–≥—Ä–æ–∫–æ–≤** –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç—Ä–∞—Ñ–∏–∫)
- ‚úÖ **–î–æ–ª–≥–∏–µ –∏–≥—Ä–æ–≤—ã–µ —Å–µ—Å—Å–∏–∏** (–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ, throttling)
- ‚úÖ **–ë—ã—Å—Ç—Ä–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞** (99% –º–µ–Ω—å—à–µ –∫–æ–¥–∞ –¥–ª—è –ø—Ä–µ–¥–º–µ—Ç–æ–≤)

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:

- üöÄ **80% –º–µ–Ω—å—à–µ —Å–µ—Ç–µ–≤–æ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞** (–±–∞—Ç—á–∏–Ω–≥ –ø–∞–∫–µ—Ç–æ–≤)
- üöÄ **95% –º–µ–Ω—å—à–µ –≤—ã–∑–æ–≤–æ–≤ getBiome()** (–∫—ç—à)
- üöÄ **99% –º–µ–Ω—å—à–µ –∫–æ–¥–∞** –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–µ–¥–º–µ—Ç–æ–≤
- üöÄ **100x –ø—Ä–æ—â–µ –¥–æ–±–∞–≤–ª—è—Ç—å** –Ω–æ–≤—ã–µ –º–µ—Ö–∞–Ω–∏–∫–∏ (–º–æ–¥—É–ª–∏)

---

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–¢—ã –ø–æ–ª—É—á–∏–ª **production-ready –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É** –¥–ª—è –æ–≥—Ä–æ–º–Ω–æ–≥–æ –º–æ–¥–∞:

1. ‚úÖ **–ú–æ–¥—É–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–µ—Ö–∞–Ω–∏–∫** - –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –¥–æ 100+
2. ‚úÖ **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–µ—Ç—å** - –±–∞—Ç—á–∏–Ω–≥ –ø–∞–∫–µ—Ç–æ–≤
3. ‚úÖ **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - —Ç—è–∂—ë–ª—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
4. ‚úÖ **–£–º–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è** - 99% –º–µ–Ω—å—à–µ –∫–æ–¥–∞
5. ‚úÖ **–ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ** - –≤–∏–¥–Ω–æ —É–∑–∫–∏–µ –º–µ—Å—Ç–∞
6. ‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - 5 –ø–æ–¥—Ä–æ–±–Ω—ã—Ö –≥–∞–π–¥–æ–≤

**–¢–µ–ø–µ—Ä—å –º–æ–∂–µ—à—å —Å–ø–æ–∫–æ–π–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å —Ç—ã—Å—è—á–∏ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –∏ —Å–æ—Ç–Ω–∏ –º–µ—Ö–∞–Ω–∏–∫!** üöÄ

---

## üìû –ß—Ç–æ –¥–∞–ª—å—à–µ?

**–ï—Å–ª–∏ —Ö–æ—á–µ—à—å**:
- –Ø –º–æ–≥—É –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∫—ç—à —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –∫ `ColdMechanic`/`HypothermiaMechanic`
- –ò–ª–∏ –ø–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è SmartItemRegistry –¥–ª—è —Ç–≤–æ–∏—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤
- –ò–ª–∏ –ø–æ–º–æ—á—å —Å –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ –ø–æ–∏—Å–∫–æ–º —É–∑–∫–∏—Ö –º–µ—Å—Ç

**–ò–ª–∏ –ø—Ä–æ—Å—Ç–æ –Ω–∞—á–∏–Ω–∞–π –¥–æ–±–∞–≤–ª—è—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç** - –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞! üéÆ

